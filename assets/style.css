:root{
  --bg:#0f1113; --card:#171a1e; --ink:#f6f7f9; --muted:#a0a6ad; --line:#2a2f36; --accent:#ffffff;
  --font-scale: 1; --btn-scale: 1; --topbar-h: 64px; --foot-h: 44px;
}
html, body { height: 100dvh; }
*{box-sizing:border-box}
body{ margin:0; background:var(--bg); color:var(--ink); font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif; overflow:hidden; }

/* Header / footer pinned */
.topbar{ position:fixed; inset:0 0 auto 0; height:var(--topbar-h); display:flex; align-items:center; gap:.75rem;
  padding:.5rem 1rem; background:#121418; border-bottom:1px solid var(--line); z-index:10 }
.topbar h1{ margin:0; font-size:1.05rem; font-weight:700; flex:1 }
.tabs{ display:flex; gap:.5rem; flex-wrap:wrap }
.tabs button{ background:#181b20; color:var(--ink); border:1px solid #2c2f34; border-radius:999px; padding:.4rem .7rem; font-size:.85rem }
.tabs button:hover{ background:#1e2228 }

.foot{ position:fixed; inset:auto 0 0 0; height:var(--foot-h); display:flex; align-items:center; padding:0 1rem;
  border-top:1px solid var(--line); background:#121418; color:var(--muted) }

/* Content area */
main{ position:relative; padding:1rem; padding-top:calc(1rem + var(--topbar-h)); padding-bottom:calc(1rem + var(--foot-h));
  height:calc(100dvh - var(--topbar-h) - var(--foot-h)); overflow:auto; display:grid; gap:1rem }

.card{ background:var(--card); border:1px solid var(--line); border-radius:16px; padding:1rem; box-shadow:0 1px 4px rgba(0,0,0,.25) }
.row{ display:grid; grid-template-columns:1fr 1fr; gap:.75rem }
@media (max-width:720px){ .row{ grid-template-columns:1fr } }
label{ display:block; font-size:.85rem; color:var(--muted); margin-bottom:.25rem }
input,select,textarea{
  width:100%; background:#14171a; color:var(--ink); border:1px solid #2c2f34; border-radius:12px; padding:.7rem .8rem; font-size:.95rem;
}
button{ background:transparent; color:var(--ink); border:1px solid #3a3b3f; border-radius:12px; padding:.7rem 1rem; min-height:44px; }
button.primary{ background:var(--accent); color:#000; border:0 }
button.ghost:hover{ background:#1c1f24 }

.badge{border:1px solid #3a3b3f;border-radius:999px;padding:.1rem .5rem;color:#ddd;font-size:.75rem;margin-right:.25rem}
.mono{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace}
.input-invalid{ border-color:#ef4444 !important; box-shadow:0 0 0 2px rgba(239,68,68,.15) }

/* Map */
.map{height:60vh;border:1px solid var(--line);border-radius:12px;overflow:hidden; position:relative}
.fab-wrap{position:absolute; right:12px; bottom:12px; display:flex; flex-direction:column; gap:10px; z-index:5}
.fab{width:44px; height:44px; border-radius:50%; border:1px solid #2b2e33; background:#101317; color:#e9e9ea;
     display:flex; align-items:center; justify-content:center; font-size:20px; box-shadow:0 2px 10px rgba(0,0,0,.45)}
.fab:hover{background:#171b20}

#toast-root{ position:fixed; top:12px; right:12px; z-index:9999; display:flex; flex-direction:column; gap:10px; pointer-events:none }
.toast{
  min-width: 220px; max-width: 320px; background: rgba(23,26,30,.96); border:1px solid var(--line); border-radius:14px; padding:.75rem .9rem;
  color: var(--ink); box-shadow:0 6px 20px rgba(0,0,0,.35); font-size:.9rem; line-height:1.25; display:flex; align-items:flex-start; gap:.6rem;
  transform: translateY(-6px); opacity:0; animation: toast-in .18s ease forwards;
}
.toast .dot{width:8px; height:8px; border-radius:50%; margin-top:.35rem; flex:0 0 8px;}
.toast.success .dot{background:#22c55e}.toast.error .dot{background:#ef4444}.toast.info .dot{background:#60a5fa}
.toast .close{ margin-left:auto; background:transparent; border:0; color:#aab; cursor:pointer; font-size:.95rem; line-height:1; padding:0 .2rem; pointer-events:auto }
@keyframes toast-in{to{transform:translateY(0);opacity:1}}
@keyframes toast-out{to{transform:translateY(-6px);opacity:0}}
